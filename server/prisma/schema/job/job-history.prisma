enum JobStatus {
  PROCESSING
  SUCCESS
  FAILED

  @@schema("job")
}

model JobHistory {
  id      Int       @id @default(autoincrement()) @db.Integer
  jobName String    @map("job_name") @db.VarChar(255)
  param   Json?     @db.JsonB
  status  JobStatus
  error   String?   @db.Text
  startAt DateTime  @map("start_at") @db.Timestamptz()
  endAt   DateTime? @map("end_at") @db.Timestamptz()

  @@index([jobName], name: "idx_job_history_job_name")
  @@map("job_history")
  @@schema("job")
}
